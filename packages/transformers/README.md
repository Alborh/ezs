# transformers

Ce plugin propose une série d'instructions spécifiques de transformation sur un seul champ d'un objet.
Cette notion est utilisée dans [lodex](https://lodex.inist.fr) pour transformer les valeurs des colonnes à charger.

Chaque instruction posséde le paramètre \`field ̀, il s'agit du chemin vers le champ à transformer ou le chemin vers un nouveau champ.

Il est possible d'enchainer les transformations sur un même champ :

```ini
[$PREFIX]
field = tag
with = <

[$SUFFIX]
field = tag
with = > 
```

Comme cette série d'instructions fonctionne uniqument sur un seul champ (et non sur la totalité comme les autres plugins)
Il génére en sortie un champ "technique" nommé `$origin` qui contient l'objet tel qu'il était avant d'appliquer un traitement.
Ce champ peut-être facillement supprimé :

```ini
[$UPPERCASE]
field = title

[exchange]
value = omit('$origin')
```

## exemple

```json
  [
            { id: 1, title: 'un' },
            { id: 2, title: 'deux' },
            { id: 3, title: 'trois' },
  ]
```

  Script:

```ini
[use]
plugin = transformers

[$UPPERCASE]
field = title

[$SUFFIX]
field = title
with = §

[$STRING]
field = id

[$PREFIX]
field = id
with = uri:/
```

Output:

```json
   [
            { id: 'uri:/1', title: 'UN§' },
            { id: 'uri:/2', title: 'DEUX§' },
            { id: 'uri:/3', title: 'TROIS§' },
   ]
```

## installation

```bash
npm install @ezs/transformers
```

## usage

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [$ARRAY](#array)
-   [$BOOLEAN](#boolean)
-   [$CAPITALIZE](#capitalize)
-   [$COLUMN](#column)
-   [$CONCAT_URI](#concat_uri)
-   [$CONCAT](#concat)
-   [$DEFAULT](#default)
-   [$FORMAT](#format)
-   [$GET](#get)
-   [$JOIN](#join)
-   [$LOWERCASE](#lowercase)
-   [$MASK](#mask)
-   [$NUMBER](#number)
-   [$PARSE](#parse)
-   [$PREFIX](#prefix)
-   [$REMOVE](#remove)
-   [$REPLACE](#replace)
-   [$SELECT](#select)
-   [$SHIFT](#shift)
-   [$SPLIT](#split)
-   [$STRING](#string)
-   [$SUFFIX](#suffix)
-   [$TRIM](#trim)
-   [$TRUNCATE](#truncate)
-   [$UNIQ](#uniq)
-   [$UPPERCASE](#uppercase)
-   [$URLENCODE](#urlencode)
-   [$VALUE](#value)
-   [extract](#extract)
-   [assign](#assign)
-   [replace](#replace-1)
-   [shift](#shift-1)
-   [keep](#keep)
-   [debug](#debug)
-   [concat](#concat-1)
-   [unpack](#unpack)
-   [pack](#pack)
-   [transit](#transit)
-   [shuffle](#shuffle)
-   [env](#env)
-   [group](#group)
-   [ungroup](#ungroup)
-   [dispatch](#dispatch)
-   [delegate](#delegate)
-   [tracer](#tracer)
-   [truncate](#truncate-1)
-   [validate](#validate)
-   [dump](#dump)
-   [time](#time)
-   [ignore](#ignore)
-   [exchange](#exchange)

### $ARRAY

transformer une chaîne de caractères en tableau avec un seul element

Exemple :

```ini
[$ARRAY]
field = keywords
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $BOOLEAN

transformer une chaîne de caractères en booléen

Exemple :

```ini
[$BOOLEAN]
field = haveMoney
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $CAPITALIZE

mettre le premier caractère en majuscule

Exemple :

```ini
[$CAPITALIZE]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $COLUMN

prendre une donnée dans un champ (colonne d'un fichier tabulé)

Exemple :

```ini
[$COLUMN]
field = newTitle
column = oldTitle
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `column` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to use during the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $CONCAT_URI

compoer un identifiant avec plusieurs champs

Exemple :

```ini
[$CONCAT_URI]
field = identifiant
column = nom
column = prenom
separator = -
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get the result of the transformation
-   `column` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get data
-   `separator` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** glue between each column

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $CONCAT

concaténer deux valeurs

Exemple :

```ini
[$CONCAT]
field = result
columns = part1
columns = part2
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get the result of the transformation
-   `columns` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get value

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $DEFAULT

donner une valeur par défaut

Exemple :

```ini
[$DEFAULT]
field = title
alternative = not available
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `alternative` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to use if field does not exist

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $FORMAT

appliquer un patron (template)

```ini
[$DEFAULT]
field = source
with = (%s:%s)
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get data source (must be an array)
-   `with` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** template string like sprintf

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $GET

Récupére toutes les valeurs correspondant à un chemin (dot path)

 Exemple :

```ini
[$GET]
field = output
path = input
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get the result of the transformation
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get value

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $JOIN

Rassemble les valeurs d'un tableau en une chaîne de caractères

 Exemple :

```ini
[$JOIN]
field = output
path = input
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation (must be an array)
-   `separator` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** glue between each field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $LOWERCASE

mettre en bas de casse (minuscules)

Exemple :

```ini
[$LOWERCASE]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $MASK

S'assure que la valeur respecte une expression régulière

Exemple :

```ini
[$MASK]
field = title
with = ^[a-z]+$
```

#### Parameters

-   `data`  
-   `feed`  
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the control
-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to use during the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $NUMBER

transformer une chaîne de caractères en nombre

Exemple :

```ini
[$NUMBER]
field = counter
```

#### Parameters

-   `data`  
-   `feed`  
-   `feild` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $PARSE

Analyser un chaine de caractère comme étant du JSON

Exemple :

```ini
[$PARSE]
field = json
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $PREFIX

préfixer la valeur avec une chaîne de caractères

Exemple :

```ini
[$PREFIX]
field = title
with = #
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `vith` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to add at the begining of the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $REMOVE

supprimer un élément ou une sous-chaîne

Exemple :

```ini
[$REMOVE]
field = title
the = .
```

#### Parameters

-   `data`  
-   `feed`  
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `the` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value todrop in the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $REPLACE

remplacer une chaîne par une autre

Exemple :

```ini
[$REPLACE]
field = title
searchValue = 1
replaceValue = un
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `searchValue` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to search
-   `replaceValue` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to replace with

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $SELECT

Prendre une valeir dans un objet à partir de son chemin (dot path)

Exemple :

```ini
[$SELECT]
field = title
path
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get the result of the selection
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to get value

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $SHIFT

décaler une valeur multiple (tableau ou chaîne de caractères)

Exemple :

```ini
[$SHIFT]
field = title
gap = 2
```

#### Parameters

-   `data`  
-   `feed`  
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `gap` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** how many item or characters to drop

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $SPLIT

segmente une chaîne de caractères en tableau

Exemple :

```ini
[$SPLIT]
field = title
separator = |
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `separator` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to use to split the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $STRING

transforme la valeur en chaîne de caractères

Exemple :

```ini
[$STRING]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $SUFFIX

ajoute une chaîne de caractères à la fin d'une chaîne ou d'un tableau

Exemple :

```ini
[$SUFFIX]
field = title
with = !
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `with` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to add at the end of the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $TRIM

enlève les espaces au début et à la fin d'une chaîne de caractères

Exemple :

```ini
[$TRIM]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $TRUNCATE

tronque, prend les premières valeurs d'un tableau, d'une chaîne

Exemple :

```ini
[$TRUNCATE]
field = title
gap = 25
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation
-   `gap` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** how many items or characters to keep

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $UNIQ

dédoublonne les valeurs (dans un tableau)

Exemple :

```ini
[$UNIQ]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation (must be an aarray)

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $UPPERCASE

mettre la chaîne en majuscules

Exemple :

```ini
[$UPPERCASE]
field = title
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $URLENCODE

encode une chaine comme dans une URL

Exemple :

```ini
[$URLENCODE]
field = url
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** field path to apply the transformation

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### $VALUE

Fixer une valeur

Exemple :

```ini
[$VALUE]
field = title
value = Hello world
```

#### Parameters

-   `data`  
-   `feed`  
-   `field` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** new field path
-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to use to set the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### extract

Take `Object` and throw each value of fields

```json
[{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
},
{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
}]
```

Script:

```ini
[extract]
path = a
path = b
```

Output:

```json
[
   'abcdefg',
   '1234567',
   'abcdefg',
   '1234567',
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of field to extract

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### assign

Take `Object` and add new field
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
},
{
   a: 4,
},
{
   a: 5,
}]
```

Script:

```ini
[assign]
path = b.c
value = 'X'
```

Output:

```json
[{
   a: 1,
   b: { c: "X" },
},
{
   a: 2,
   b: { c: "X" },
},
{
   a: 3,
   b: { c: "X" },
},
{
   a: 4,
   b: { c: "X" },
},
{
   a: 5,
   b: { c: "X" },
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of the new field
-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value of the new field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### replace

Take `Object` and replace it with a new object with some fields
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
},
{
   a: 4,
},
{
   a: 5,
}]
```

Script:

```ini
[replace]
path = b.c
value = 'X'
```

Output:

```json
[{
   b: { c: "X" },
},
{
   b: { c: "X" },
},
{
   b: { c: "X" },
},
{
   b: { c: "X" },
},
{
   b: { c: "X" },
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of the new field
-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value of the new field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### shift

Return the first `Object` and close the feed
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
},
{
   a: 4,
},
{
   a: 5,
}]
```

Script:

```ini
[shift]
```

Output:

```json
[{
   a: 1,
}]
```

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### keep

Take `Object` and throw the same object but keep only specific fields
Input file:

```json
[{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
},
{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
}]
```

Script:

```ini
[keep]
path = a
path = b
```

Output:

```json
[{
   a: 'abcdefg',
   b: '1234567',
},
{
   a: 'abcdefg',
   b: '1234567',
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of field to keep

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### debug

Take `Object` , print it and throw the same object

#### Parameters

-   `level` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** console level : log or error (optional, default `log`)
-   `text` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** text before the dump (optional, default `valueOf`)
-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of field to print

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### concat

Take all `String`, concat them and thow just one

```json
[
     'a',
     'b',
     'c',
]
```

Script:

```ini
[concat]
beginWith = <
joinWith = |
endWith = >
```

Output:

```json
[
     '<a|b|c>',
]
```

#### Parameters

-   `beginWith` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Add value at the begin
-   `joinWith` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** use value to join 2 chunk
-   `endWith` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Add value at the end

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### unpack

Take `String` and throw `Object` builded by JSON.parse on each line

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### pack

Take all `Object`, throw encoded `String`

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### transit

Take `Object` and throw the same object
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
}]
```

Script:

```ini
[transit]
```

Output:

```json
[{
   a: 1,
},
{
   a: 2,
}]
```

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### shuffle

Take `Object`, shuffle data of the whole object or only some fields specified by path
Input file:

```json
[{
   a: 'abcdefg',
   b: '1234567',
},
{
   a: 'abcdefg',
   b: '1234567',
}]
```

Script:

```ini
[shuffle]
path = a
```

Output:

```json
[{
   a: 'cadbefg',
   b: '1234567',
},
{
   a: 'dcaegbf',
   b: '1234567',
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of field to shuffle

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### env

Take `Object` and send the same object but in the meantime, it is possible to
add new environment field

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of the new field
-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value of the new field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### group

Take all `chunk`s, and throw one array of chunks

```json
[
     'a',
     'b',
     'c',
     'd',
     'e',
     'f',
     'g',
     'h',
]
```

Script:

```ini
[group]
length = 3
```

Output:

```json
[
     [ 'a', 'b', 'c' ],
     [ 'd', 'e', 'f' ],
     [ 'g', 'h' ],
]
```

#### Parameters

-   `length` **[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Size of each partition

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### ungroup

-   **See: group**

Take all `chunk`s, and throw one item for every chunk

```json
[
     [ 'a', 'b', 'c' ],
     [ 'd', 'e', 'f' ],
     [ 'g', 'h' ],
]
```

Script:

```ini
[ungroup]
```

Output:

```json
[
     'a',
     'b',
     'c',
     'd',
     'e',
     'f',
     'g',
     'h',
]
```

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### dispatch

Takes an `Object` dispatch processing to an external pipeline on one or more servers

#### Parameters

-   `server` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** servers to dispatch data
-   `file` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the external pipeline is descrbied in a file
-   `script` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the external pipeline is descrbied in a sting of characters
-   `commands` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the external pipeline is descrbied in object

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### delegate

Takes an `Object` delegate processing to an external pipeline

#### Parameters

-   `file` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the external pipeline is described in a file
-   `script` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the external pipeline is described in a string of characters
-   `commands` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** the external pipeline is described in an object

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### tracer

Take `Object`, print a character and throw the same object.
Useful to see the progress in the stream.

#### Parameters

-   `print` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** character to print at each object (optional, default `.`)
-   `last` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** character to print at last call (optional, default `.`)
-   `first` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** character to print at first call (optional, default `.`)

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### truncate

Takes all the chunks, and closes the feed when the total length is equal to the parameter
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
},
{
   a: 4,
},
{
   a: 5,
}]
```

Script:

```ini
[truncate]
length = 3
```

Output:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
}]
```

#### Parameters

-   `length` **[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Length of the feed

Returns **any** 

### validate

-   **See: laravel validator rules**
-   **See: <https://github.com/skaterdav85/validatorjs#readme>**

From a `Object`, throw the same object if all rules pass

Input file:

```json
[{
   a: 1,
   b: 'titi',
},
{
   a: 2,
   b: 'toto',
},
{
   a: false,
},
]
```

Script:

```ini
[validate]
path = a
rule = required|number

path = a
rule = required|string
```

Output:

```json
[{
   a: 1,
   b: 'titi',
},
{
   a: 2,
   b: 'toto',
},
}]
```

#### Parameters

-   `path` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** path of the field
-   `rule` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** rule to validate the field

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### dump

Take all `Object` and generete a JSON array

#### Parameters

-   `indent` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** indent JSON (optional, default `false`)

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### time

Measure the execution time of a script, on each chunk on input.

#### Parameters

-   `script` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

#### Examples

Input


```javascript
[1]
```

Program


```javascript
const script = `
[transit]
`;
from([1])
    .pipe(ezs('time', { script }))
```

Output


```javascript
[{
  data: 1,
  time: 15 // milliseconds
}]
```

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### ignore

Takes all the chunks, and ignore the firtst N chunk
Input file:

```json
[{
   a: 1,
},
{
   a: 2,
},
{
   a: 3,
},
{
   a: 4,
},
{
   a: 5,
}]
```

Script:

```ini
[ignore]
length = 3
```

Output:

```json
[{
   a: 4,
},
{
   a: 5,
}]
```

#### Parameters

-   `length` **[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Length of the feed

Returns **any** 

### exchange

Take `Object` and throw un new item computed by the value= parameter
Input file:

```json
[{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
},
{
   a: 'abcdefg',
   b: '1234567',
   c: 'XXXXXXX',
}]
```

Script:

```ini
[exchange]
value = omit('c')
```

Output:

```json
[{
   a: 'abcdefg',
   b: '1234567',
},
{
   a: 'abcdefg',
   b: '1234567',
}]
```

#### Parameters

-   `value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** value to replace input object

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
